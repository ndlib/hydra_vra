<%- query =  "active_fedora_model_s:Component" -%>
<%# query += " AND #{q}" unless q.nil? -%>
<%- (@component_response, @document_list) = get_featured_available(content, query) -%>
<h3><em><%= "Select from #{pluralize(@component_response.docs.total, 'source')} listed below"%> </em></h3>
<div class="pagination">
  <%= will_paginate @component_response.docs, :page_links => false, :class => 'prev_next_links' %>
  <%= will_paginate @component_response.docs, :container => false %>
</div>
<table>
	<% unless params[:display_type] == 'list' %>
  <tr>
    <th class="title">Title</th>
    <th class="type">Type</th>
    <th class="type">Feature in <%=content %></th>
  </tr>
  <% end %>
  <% @component_response.docs.each_with_index do |document,counter| %>
    <%- component = Component.load_instance_from_solr(document[:id]) -%>  
    <%# debug component.item_title.blank? ? component.sub_collection_title : component.item_title %>
    <tr class="document" class="<%= cycle("even","odd") %>">
      <td>
        <%= link_to_document(document, :label => component.item_title.blank? ? component.sub_collection_title : component.item_title, :counter => (counter + 1 + @component_response.params[:start].to_i)) %>
      </td>
      <td>
        <%=  document_type(document).gsub("Hydrangea","") %>
      </td>
      <td>
        <input type="checkbox" name="featured" class="featured" value=<%=document[:id]%>>
      </td>
    </tr>
  <% end %>
</table>
<div class="pagination">
  <%= will_paginate @component_response.docs, :page_links => false, :class => 'prev_next_links' %>
  <%= will_paginate @component_response.docs, :container => false %>
</div>
