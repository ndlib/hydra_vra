<% javascript_includes << "/plugin_assets/fluid-infusion/infusion-1.2-src/lib/jquery/ui/js/jquery.ui.accordion.js" %>
<% javascript_includes << 'custom' %>
<% javascript_includes << "catalog/show" %>

<style type="text/css" media="screen">
  input.editable-edit, input.textile-edit {display:none}
</style>

<div class="document_viewer" id="cover_container">
  <div id="accordion">
    <h2 class="section-title"><a href="#">Items</a></h2>
    <% response = @response if response.nil?%>
      <div id="sortAndPerPage">
        <div class="currently-showing">
	  <% if(@document_fedora.type.to_s.eql? "Collection") %>
            <%= render :partial => 'collections/items', :locals => {:content => "component", :document_fedora => @document_fedora, :document => @document, :asset_id=>params[:id]} %>
	  <% else %>
	    <%= render :partial => 'components/items', :locals => {:content => "component", :document_fedora => @document_fedora, :asset_id=>params[:id]} %>
	  <% end %>
        </div>
        <% form_tag collections_path, :method=>:get, :class=>'per_page' do %>
        <fieldset>
          <%= label_tag(:per_page, "Show " + select_tag(:per_page, options_for_select(['10', '20', '50', '100'], h(params[:per_page])), :title => "Number of results to display per page", :onchange => 'this.form.submit()') + " per page") %>
          <%= search_as_hidden_fields(:omit_keys => [:page, :per_page]) %>
          <noscript><%= submit_tag 'update' %></noscript>
        </fieldset>
      </div>
    <% end %>
  </div>
</div>
