  <% document_list = @document_list if document_list.nil?%>
  <% response = @response if response.nil?%>
  <% document_list.each_with_index do |document,counter| %>
    <% item = load_af_instance_from_solr(document) %>
    <% item.respond_to?(:title) ? title = item.title : title = document[:id] %>
    <% thumbnail_path = "" %>
    <% if((!item.main_page.to_s.nil?) && (!item.main_page.to_s.empty?)) %>
      <% page = Page.load_instance(item.main_page.to_s) %>
      <% thumbnail_path = page.datastream_url('thumbnail') %>
    <% else %>
      <% thumbnail_path = nil %>
    <% end %>
          
      <% # header bar for doc items in index view -%>
      <div class="documentHeader yui-g">
        <% # main title container for doc partial view -%>
        <div class="yui-u">
          <h2 class="index_title"><%= counter + 1 + response.params[:start].to_i %>. <%= link_to item.pid, catalog_path(item.pid), :label=>document_show_link_field, :counter => (counter + 1 + response.params[:start].to_i) %></h2>
        </div>
      </div>
      
      <% # main container for doc partial view -%>
      <%= render_document_index_partial(SolrDocument.new(document), title, counter, :index, thumbnail_path) %>  

    </div>
    
  <% end %>

